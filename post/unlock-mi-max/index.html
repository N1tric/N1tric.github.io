<!DOCTYPE html>
<html lang="zh-cn">
  <head>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/custom.css">
  <link href="https://fonts.geekzu.org/css2?family=PT+Serif&family=Source+Sans+Pro&display=swap" rel="stylesheet">

    
    <title>解决小米Max账户锁问题 | Nutr1t07's Blog</title>
  </head>

  <body>
    <div class="container">
            <div class="sidebar">
            <nav>
                <h3 id="logo">Nutr1t07</h3>
                <ul>
                                      <li><a href="/">Index</a></li>
                                      <li><a href="/page/friends/">Friends</a></li>
                  
                </ul>

                                <div id="outline" class="outline">
                  <text>Outline</text>
                  <ul>
<li><a href="#hdr:0">TL;DR</a></li>
<ul>
<li><a href="#hdr:1">打开USB调试</a></li>
<li><a href="#hdr:2">禁止账号验证活动</a></li>
</ul><li><a href="#hdr:3">尝试</a></li>
<ul>
<li><a href="#hdr:4">官方Rec清除数据</a></li>
<li><a href="#hdr:5">重新刷入官方ROM</a></li>
<li><a href="#hdr:6">刷入TWRP</a></li>
<li><a href="#hdr:7">刷入镜像暂时移除锁定界面</a></li>
<li><a href="#hdr:8">使用adb卸载小米服务[5]</a></li>
<ul>
<li><a href="#hdr:9">安装adb</a></li>
<li><a href="#hdr:10">打开USB调试</a></li>
<li><a href="#hdr:11">卸载小米服务</a></li>
</ul></ul><li><a href="#hdr:12">结语</a></li>

                </div>
                

            </nav>
            &nbsp;
      </div>

      <div id="article" class="content">
        <h3 id="article-title">解决小米Max账户锁问题</h3>
        
        <div id="article-content">
        <p>表弟的小米手机被锁上了，型号是小米Max标准版(高通650 hydrogen)。根据他的说法，手机在某次重新启动无缘无故后出现了账户锁，就是如下图所示的样子。</p>
<p><img src="/postimage/IMG_20190809_062136.jpg" alt="" />
</p>
<p>似乎这种情况是随机出现的，为了突击检查你的手机属不属于你。然而锁机的做法并没有什么用处，你不能指望这个锁能让那些捡到手机不还的人放弃这部手机。</p>
<p>这部小米Max在给到他手中他之前，已经用他爸爸的弃用的手机号绑定了小米账号，而他爸早就忘了当时注册的时候填了个什么密码，所以从官方渠道解决锁定问题会相当麻烦。</p>
<h4 id="hdr:0">TL;DR</h4>
<p><strong>免责声明</strong>： 此操作<strong>有风险</strong>，任何依照本文章步骤操作导致的问题由用户自身承担。</p>
<p>若您的小米Max(hydrogen)设备遇到账户锁问题，遵循以下步骤：</p>
<h5 id="hdr:1">打开USB调试</h5>
<ol>
<li>下载所需文件</li>
</ol>
<p>   - <a href="https://drive.google.com/file/d/145HjG7GmHDnxN35e3Wfr708AfV0K7kKc/view" >MI ACCOUNT REMOVE FILE</a></p>
<p>   - <a href="https://www.xiaomiflash.com/" >MiFlash</a></p>
<ol>
<li>同时按住手机音量加、音量减和电源键进入EDL(Emergency Download)模式，并通过USB将手机与电脑连接。注意：此模式下屏幕不会开启，只能通过启动时的振动判断是否进入EDL模式。</li><li>解压<em>MI ACCOUNT REMOVE FILE</em>，将解压后的文件夹载入<em>MiFlash</em>。点击refresh按钮刷新设备，并点击flash刷入。如图：</li><li>断开USB连接，按住电源键强制重新开机。进入系统后将WLAN与移动数据关闭，否则锁定界面会重新出现。</li><li>在开发者选项中打开“USB调试”。</li>
</ol>
<h5 id="hdr:2">禁止账号验证活动</h5>
<ol>
<li>在电脑上安装adb，并重新连接手机。</li><li>打开cmd，输入<code>adb shell</code>，此时手机出现“允许USB调试吗？”提示，确认即可。</li><li>在cmd中输入</li>
</ol>
<pre><code>adb shell
pm uninstall -k --user 0 com.xiaomi.finddevice
pm uninstall -k --user 0 com.xiaomi.account
pm uninstall -k --user 0 com.android.provision</code></pre>
<h4 id="hdr:3">尝试</h4>
<h5 id="hdr:4">官方Rec清除数据</h5>
<p>算了，这用脑子想想就能知道不可能解决问题。未解开Bootloader刷入第三方Rec之前，不管用什么方法清除数据，都会不可避免地保留最后一次登陆的小米账户数据。</p>
<h5 id="hdr:5">重新刷入官方ROM</h5>
<p>目前已知小米Max最早版本为MIUI7.5，下载地址在<a href="http://www.miui.com/zt/miui7.5/download.html" >此处</a>。是的，同样无法解决问题。但是似乎新版本(MIUI10)在使用adb卸载finddevice服务后MIUI系统会不断尝试调用finddevice，这可能会导致一定的性能下降。</p>
<p><img src="/postimage/IMG_20190809_080638.jpg" alt="" />
</p>
<p>我一直以为手机除了正常系统外只有Recovery和Fastboot两种模式，没想到居然还有一种紧急救援模式EDL。[1]EDL模式用于绕过Bootloader，执行刷机救砖操作。EDL只存在于搭载高通处理器的小米设备上，且2017及以后发布的小米设备<strong>无法</strong>通过EDL模式绕过设备锁。[2]</p>
<p>根据网络上的说法：“开发版和稳定版是两个完全不同的系统，里面的data数据都不同，所以互刷能完全清除小米账号。”[3]于是我尝试着刷入了最新版的开发版，结果并没有什么改变，在开机设置系统时我就被要求激活设备。同样的，刷回旧版本(MIUI7.5)也无济于事，联网后仍然需要激活，否则会被锁住无法进行任何操作。</p>
<h5 id="hdr:6">刷入TWRP</h5>
<p>既然能够进入EDL模式，就说明还有不少方法可以尝试。毕竟EDL这东西本身就像是个低配版的Fastboot，能通过它对手机的文件系统进行操作。</p>
<p>在MIUI7.5系统下，进入EDL后，用MiFlash刷入第三方Rec——这应该是一条可行的道路，但是当时我一不小心没注意到clean all选项被勾选上了，于是我成功地把MIUI7.5擦除了。至于是否能够刷上，你可以自己尝试。</p>
<p>可使用MiFlash刷入的TWRP包在<a href="https://forum.xda-developers.com/mi-max/development/unofficial-batik-recovery-t3876412" >此处</a>，由xda论坛提供。</p>
<h5 id="hdr:7">刷入镜像暂时移除锁定界面</h5>
<p>网络上有篇博文写道使用他提供的<a href="https://drive.google.com/file/d/145HjG7GmHDnxN35e3Wfr708AfV0K7kKc/view" >REMOVE FILE</a>能够删除小米账号。[4]</p>
<ol>
<li>Fastboot不支持被锁设备的刷机操作，所以需要进入EDL救援模式。进入EDL有多种方式，譬如使用EDL线、拆开手机后盖短接测试点等。不过小米Max似乎可以直接通过同时按住音量加、音量减和电源键进入EDL模式。</li><li>将手机通过USB与电脑连接。此时在<em>设备管理器</em>中端口下应出现<em>Qualcomm HS-USB QDLoader 9008</em>一栏。</li><li>下载上述<em>REMOVE FILE</em>并解压，下载能与EDL交互的<a href="https://www.xiaomiflash.com/" >MiFlash</a>。</li><li>打开MiFlash，载入解压后的文件夹并刷入该<em>删除文件</em>。  </li>
</ol>
<p>    <img src="/postimage/Screenshot.png" alt="MiFlash" />
</p>
<ol>
<li>结束后断开USB连接，长按电源键重启设备。</li>
</ol>
<p>此时进入系统后在短时间内不会锁定，请迅速关闭网络以防“查找设备”服务上线，否则设备将重新上锁。</p>
<h5 id="hdr:8">使用adb卸载小米服务[5]</h5>
<h6 id="hdr:9">安装adb</h6>
<p>你可以参照这篇<a href="https://forum.xda-developers.com/showthread.php?t=2588979" >教程</a>。</p>
<h6 id="hdr:10">打开USB调试</h6>
<p>在暂时解锁的小米手机的连续点按MIUI版本号，直到开发者模式开启，然后在开发者选项中允许USB调试。将手机与电脑通过USB连接，打开电脑终端，输入<code>adb shell</code>获取权限，在手机上允许来自此电脑的调试即可。</p>
<h6 id="hdr:11">卸载小米服务</h6>
<p>在终端中再次输入<code>adb shell</code>，此时应进入adb终端。在adb终端中输入：</p>
<pre><code>pm uninstall -k --user 0 com.xiaomi.finddevice
pm uninstall -k --user 0 com.xiaomi.account
pm uninstall -k --user 0 com.android.provision</code></pre>
<p>最后重新连接网络。</p>
<h4 id="hdr:12">结语</h4>
<p>使用本方法解决锁定问题并不完美，已知缺点如下：</p>
<ol>
<li>无法使用小米提供的云服务</li><li>系统性能下降</li><li>可能导致bootloop</li><li>新版本MIUI会不断出现“Finddevice service destroyed”，但不影响使用</li>
</ol>
<p>本文介绍的解决方案是极其简陋的，你可以自行尝试其他方法，如使用第三方Rec完全清除数据。</p>
<hr>
<ol>
<li><a href="http://en.miui.com/thread-307139-1-1.html" >http://en.miui.com/thread-307139-1-1.html</a></li><li><a href="https://www.reddit.com/r/Xiaomi/wiki/edl" >https://www.reddit.com/r/Xiaomi/wiki/edl</a></li><li><a href="http://www.miui.com/forum.php?mod=viewthread&tid=9610315" >http://www.miui.com/forum.php?mod=viewthread&tid=9610315</a></li><li><a href="https://alltechminer.blogspot.com/2019/01/remove-mi-account-on-mi-max-or-2016002.html" >https://alltechminer.blogspot.com/2019/01/remove-mi-account-on-mi-max-or-2016002.html</a></li><li><a href="https://www.youtube.com/watch?v=JoYdVrYM5Lo" >https://www.youtube.com/watch?v=JoYdVrYM5Lo</a></li>
</ol>

        </div>
      </div>
    </div>
  </body>
</html>
