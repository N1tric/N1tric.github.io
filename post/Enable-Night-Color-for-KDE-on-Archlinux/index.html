<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/custom.css">
  <link href="https://fonts.googleapis.com/css2?family=PT+Serif&family=Source+Sans+Pro&display=swap" rel="stylesheet">

    <title>Enable Night Color for KDE on Archlinux | Nutr1t07's Blog</title>
  </head>

  <body>
    <div class="container">
            <div class="sidebar">
            <nav>
                <h3 id="logo">Nutr1t07</h3>
                <ul>
                    <li><a href="/">Index</a></li>
                    <li><a href="/page/friends/">Friends</a></li>
                </ul>
            </nav>
            &nbsp;
      </div>

      <div class="content">
        <h3>Enable Night Color for KDE on Archlinux</h3>
        <h4>Xorg</h4>
<blockquote>
<p>(2019.10.25 Update) The Night Color settings are now available on X11 since Plasma 5.16.90.</p>
</blockquote>
<p>There is no direct option for <em>Night Color</em> On KDE Plasma 5.16.4. You need to get the dependence <code>redshift</code> installed.</p>
<h5>Location Service</h5>
<h6>Run geoclue</h6>
<p>Run <em>redshift</em> for the first time in terminal. If you get the following output:</p>
<pre><code>Trying location provider &#39;geoclue2&#39;...
Using provider &#39;geoclue2&#39;.
Using method &#39;randr&#39;.
Waiting for initial location to become available...</code></pre>
<p>Then you need to ensure <code>geoclue</code> is running without error. AFAIK, <code>geoclue.service</code> is depended on <code>avahi-daemon.service</code> and <code>ModemManager.service</code>, you should start the services to make <code>geoclue</code> run:</p>
<pre><code>sudo systemctl start avahi-daemon.service
sudo systemctl start ModemManager.service
sudo systemctl restart geoclue.service</code></pre>
<h6>Allow Redshift to Access Geoclue Service</h6>
<p>Add following text to <code>/etc/geoclue/geoclue.conf</code>:</p>
<pre><code>[redshift]
allowed=true
system=false
users=</code></pre>
<p>Then restart <code>geoclue.service</code>.</p>
<h5>KDE Addon</h5>
<p>To make it easier for settings on <code>redshift</code>, an addon is necessary.</p>
<ol>
<li>Open KDE <em>Software Center</em>(org.kde.discover). Search “Redshift Control” and install it.</li><li>Add the widget “Redshift Control” on desktop or anywhere you want to put it on.</li><li>Right-click the widget, configure the <code>redshift</code>.</li><li>Left-click, open <em>Night Color</em>.</li>
</ol>
<h4>Wayland</h4>
<p>There’s a direct option for <em>Night Color</em> for Wayland.</p>
<hr>
<ol>
<li><a href="https://github.com/jonls/redshift/issues/158" >https://github.com/jonls/redshift/issues/158</a></li>
</ol>
      </div>
    </div>
  </body>
</html>
