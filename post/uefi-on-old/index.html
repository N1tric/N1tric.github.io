<html lang="zh-cn">
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/custom.css">
<title>Nutr1t07's Blog</title>
<script type="application/javascript" src="/js/encrypt.js"></script>
<link href="https://fonts.geekzu.org/css2?family=PT+Serif&amp;family=Source+Sans+Pro&amp;display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="container">
          <div class="sidebar">
    <nav id="menu" class="menu">
        <h3>Nutr1t07</h3>
        <ul>
                        <li><a href="/">Index</a></li>
                        <li><a href="/page/friends/">Friends</a></li>
            
        </ul>
    
    </nav>
    &nbsp;
</div>
  <div id="article" class="content">
  <h3 id="article-title">UEFI Boot on Old Computers (2019-06-16)</h3>
  
  
  <div id="article-content">
  <p>I have installed Archlinux before by UEFI/GPT, then it failed to boot my Arch. I tried to change the boot order by efibootmgr, but this stupid machine just keep reset the boot order, keeping the OS unbootable. And unsurprisingly, if I install Archlinux by BIOS/MBR, it could boot without any mistakes.</p>
<p>After a while I tried installing Manjaro, using UEFI. But this time, I got “Detect EFI bootloaders” on Manjaro LiveCD. There are some options in the “EFI bootloaders”, and through them I could enter the Manjaro successfully.</p>
<p>Then I asked for help at Manjaro forum. A post told that some computers only use bootx64.efi regardless as default. Which means, the computer will keep ignore any entry files unless there is a bootx64.efi under the EFI directory.</p>
<p>So if you can ensure your OS and bootloaders are installed successfully, then</p>
<ol>
<li>Copy EFI entry file(something like <code>xx.efi</code> under <code>/boot/efi/EFI</code>) to <code>/boot/efi/EFI/boot</code> (if boot dir doesn’t exist, create it.)</li><li>Rename the EFI file to <code>bootx64.efi</code></li>
</ol>
<p>(n.b. DON’T remove the origin directory which the origin bootloader contain, the <code>bootx64.efi</code> is just a mark to let computer detects other existing EFI entry.)</p>

  </div>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151389248-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151389248-1');
</script>

  </div>
</body>
</html>
