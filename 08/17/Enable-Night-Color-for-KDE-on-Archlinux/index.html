<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-145090347-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>Enable Night Color for KDE on Archlinux | Nutr1t07&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Xorg There is no direct option for Night Color On KDE Plasma 5.16.4. You need to get the dependence redshift installed. ¶Location Service ¶Run geoclue Run redshift for the first time in terminal. If y">
<meta name="keywords" content="Archlinux,Night color,KDE,Redshift">
<meta property="og:type" content="article">
<meta property="og:title" content="Enable Night Color for KDE on Archlinux">
<meta property="og:url" content="https://Nutr1t07.github.io/08/17/Enable-Night-Color-for-KDE-on-Archlinux/index.html">
<meta property="og:site_name" content="Nutr1t07&#39;s Blog">
<meta property="og:description" content="Xorg There is no direct option for Night Color On KDE Plasma 5.16.4. You need to get the dependence redshift installed. ¶Location Service ¶Run geoclue Run redshift for the first time in terminal. If y">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-20T01:51:57.224Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Enable Night Color for KDE on Archlinux">
<meta name="twitter:description" content="Xorg There is no direct option for Night Color On KDE Plasma 5.16.4. You need to get the dependence redshift installed. ¶Location Service ¶Run geoclue Run redshift for the first time in terminal. If y">
  
    <link rel="alternate" href="/atom.xml" title="Nutr1t07&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Nutr1t07&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/friends">Friends</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://Nutr1t07.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Enable-Night-Color-for-KDE-on-Archlinux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/08/17/Enable-Night-Color-for-KDE-on-Archlinux/" class="article-date">
  <time datetime="2019-08-17T04:58:29.000Z" itemprop="datePublished">2019-08-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech/">Tech</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Enable Night Color for KDE on Archlinux
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Xorg</h1>
<p>There is no direct option for <em>Night Color</em> On KDE Plasma 5.16.4. You need to get the dependence <code>redshift</code> installed.</p>
<h2 id="location-service"><a class="header-anchor" href="#location-service">¶</a>Location Service</h2>
<h3 id="run-geoclue"><a class="header-anchor" href="#run-geoclue">¶</a>Run geoclue</h3>
<p>Run <em>redshift</em> for the first time in terminal. If you get the following output:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Trying location provider `geoclue2&apos;...</span><br><span class="line">Using provider `geoclue2&apos;.</span><br><span class="line">Using method `randr&apos;.</span><br><span class="line">Waiting for initial location to become available...</span><br></pre></td></tr></table></figure>
<p>Then you need to ensure <code>geoclue</code> is running without error. AFAIK, <code>geoclue.service</code> is depended on <code>avahi-daemon.service</code> and <code>ModemManager.service</code>, you should start the services to make <code>geoclue</code> run:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start avahi-daemon.service</span><br><span class="line">sudo systemctl start ModemManager.service</span><br><span class="line">sudo systemctl restart geoclue.service</span><br></pre></td></tr></table></figure>
<h3 id="allow-redshift-to-access-geoclue-service"><a class="header-anchor" href="#allow-redshift-to-access-geoclue-service">¶</a>Allow <code>redshift</code> to access <code>geoclue</code> service <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h3>
<p>Add following text to <code>/etc/geoclue/geoclue.conf</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[redshift]</span><br><span class="line">allowed=true</span><br><span class="line">system=false</span><br><span class="line">users=</span><br></pre></td></tr></table></figure>
<p>Then restart <code>geoclue.service</code>.</p>
<h2 id="kde-addon"><a class="header-anchor" href="#kde-addon">¶</a>KDE Addon</h2>
<p>To make it easier for settings on <code>redshift</code>, an addon is necessary.</p>
<ol>
<li>Open KDE <em>Software Center</em>(org.kde.discover). Search “Redshift Control” and install it.</li>
<li>Add the widget “Redshift Control” on desktop or anywhere you want to put it on.</li>
<li>Right-click the widget, configure the <code>redshift</code>.</li>
<li>Left-click, open <em>Night Color</em>.</li>
</ol>
<h1>Wayland</h1>
<p>There’s a direct option for <em>Night Color</em> for Wayland.</p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p><a href="https://github.com/jonls/redshift/issues/158" target="_blank" rel="noopener">https://github.com/jonls/redshift/issues/158</a> <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Archlinux/">Archlinux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/KDE/">KDE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Night-color/">Night color</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redshift/">Redshift</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/08/31/Dopamine-and-Myopia-Development/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          多巴胺与近视发展
        
      </div>
    </a>
  
  
    <a href="/08/09/mi-max-account-locked/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">解决小米Max账户锁问题</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Game/">Game</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Other/">Other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tech/">Tech</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Thoughts/">Thoughts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Translations/">Translations</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Account-lock/" style="font-size: 10px;">Account lock</a> <a href="/tags/Archlinux/" style="font-size: 20px;">Archlinux</a> <a href="/tags/Boot/" style="font-size: 10px;">Boot</a> <a href="/tags/Bootloader/" style="font-size: 10px;">Bootloader</a> <a href="/tags/Brightness/" style="font-size: 10px;">Brightness</a> <a href="/tags/Dopamine/" style="font-size: 10px;">Dopamine</a> <a href="/tags/EFI/" style="font-size: 10px;">EFI</a> <a href="/tags/Feelings/" style="font-size: 10px;">Feelings</a> <a href="/tags/Friends-Network/" style="font-size: 10px;">Friends Network</a> <a href="/tags/Function/" style="font-size: 10px;">Function</a> <a href="/tags/GFW/" style="font-size: 10px;">GFW</a> <a href="/tags/Haskell/" style="font-size: 16.67px;">Haskell</a> <a href="/tags/Indentation/" style="font-size: 10px;">Indentation</a> <a href="/tags/Intel/" style="font-size: 10px;">Intel</a> <a href="/tags/KDE/" style="font-size: 10px;">KDE</a> <a href="/tags/Linux/" style="font-size: 13.33px;">Linux</a> <a href="/tags/Math/" style="font-size: 10px;">Math</a> <a href="/tags/Minecraft/" style="font-size: 10px;">Minecraft</a> <a href="/tags/Mirror/" style="font-size: 10px;">Mirror</a> <a href="/tags/Monoid/" style="font-size: 10px;">Monoid</a> <a href="/tags/Music/" style="font-size: 10px;">Music</a> <a href="/tags/Myopia/" style="font-size: 10px;">Myopia</a> <a href="/tags/NVIDIA/" style="font-size: 10px;">NVIDIA</a> <a href="/tags/Night-color/" style="font-size: 10px;">Night color</a> <a href="/tags/Nihilism/" style="font-size: 10px;">Nihilism</a> <a href="/tags/Nihilist/" style="font-size: 10px;">Nihilist</a> <a href="/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/tags/Redshift/" style="font-size: 10px;">Redshift</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/Semigroup/" style="font-size: 10px;">Semigroup</a> <a href="/tags/Stack/" style="font-size: 10px;">Stack</a> <a href="/tags/Steam/" style="font-size: 10px;">Steam</a> <a href="/tags/Touchpad/" style="font-size: 10px;">Touchpad</a> <a href="/tags/UEFI/" style="font-size: 10px;">UEFI</a> <a href="/tags/WIFI/" style="font-size: 10px;">WIFI</a> <a href="/tags/Windows/" style="font-size: 10px;">Windows</a> <a href="/tags/Xiaomi-Phone/" style="font-size: 10px;">Xiaomi Phone</a>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Nutr1t07<br>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/friends" class="mobile-nav-link">Friends</a>
  
</nav>
    

<script src="//lib.sinaapp.com/js/jquery/2.0.3/jquery-2.0.3.min.js"></script>



<script src="/js/script.js"></script>



  </div>
</body>
</html>